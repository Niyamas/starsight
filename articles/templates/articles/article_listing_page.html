{% extends 'starsight/base.html' %}
{% load wagtailimages_tags %}


{% block extra_css %}
{% endblock extra_css %}


{% block head_js %}
{% endblock head_js %}


{% block content %}

<h1>article listing page</h1>

{% for topic in topics %}

    <ul>
        <li><a href="?topic={{ topic.slug }}">{{ topic.name }}</a></li>
    </ul>

{% endfor %}

<div class="container">

    {% for article in articles %}

        <div class="row">
            <div class="col-sm-3">

                {% image article.image fill-250x250 as article_img %}

                <a href="{{ article.url }}">
                    <img src="{{ article_img.url }}" alt="{{ article_img.alt }}">
                </a>
            </div>

            <div class="col-sm-9">
                <a href="{{ article.url }}">
                    {{ article.title }}
                </a>

                {% if article.specific.strange_quote %}
                    <p>{{ article.specific.strange_quote }}</p>
                {% endif %}
            </div>

        </div>
        <br>

    {% endfor %}

</div>



<div class="container">
    <div class="row">
        <div class="col-lg-12">

            {% if articles.paginator.num_pages > 1 %}
            
                <div class="pagination">

                    {% if articles.has_previous %}

                        <li class="page-item">
                            <a class="page-link" href="?page={{ articles.previous_page_number }}">
                                <span>&laquo;</span>
                            </a>
                        </li>

                    {% endif %}

                    {% for page_num in articles.paginator.page_range %}
                    
                        <li class="page-item {% if page_num == articles.number %}active{% endif %}">
                            <a class="page-link" href="?page={{ page_num }}">
                                {{ page_num }}
                            </a>
                        </li>                    
                    
                    {% endfor %}



                    {% if articles.has_next %}

                        <li class="page-item">
                            <a class="page-link" href="?page={{ articles.next_page_number }}">
                                <span>&raquo;</span>
                            </a>
                        </li>        
                    
                    {% endif %}





                </div>
            
            {% endif %}







        </div>
    </div>
</div>


{% endblock content %}


{% block extra_js %}
{% endblock extra_js %}